(this["webpackJsonphabit-tracker-react"]=this["webpackJsonphabit-tracker-react"]||[]).push([[0],{25:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),c=a(11),o=a.n(c),s=(a(25),a(4)),r=a(2),d=a(0),l=function(e){var t=e.btnFunction,a=e.btnDisplay,n=e.functionLiteral;return Object(d.jsx)("button",{className:"light-btn",onClick:function(e){"logoutBtn"===t?(localStorage.removeItem("token"),window.location.reload()):("submitNewHabitBtn"===t||"closeAddHabitForm"===t)&&(e.preventDefault(),n())},children:a})},b=function(){return Object(d.jsxs)("div",{id:"how-to-use-container",children:[Object(d.jsx)("h2",{children:"How To Use"}),Object(d.jsx)("p",{children:"Create a new account by clicking the 'Signup' button on the home page. Choose a unique username and create a password."}),Object(d.jsx)("p",{children:"You'll then be forwarded to the habit list page once you're logged in."}),Object(d.jsx)("p",{children:"Click the 'Add Habit' button to add a new habit."}),Object(d.jsxs)("p",{children:["Enter a short description. ",Object(d.jsx)("em",{children:"Each habit description needs to be unique."})]}),Object(d.jsxs)("p",{children:["How progress is logged depends on whether a given habit is ",Object(d.jsx)("span",{style:{color:"green",background:"aliceblue",borderRadius:"5px"},children:"\xa0active\xa0"})," or ",Object(d.jsx)("span",{style:{color:"red",background:"aliceblue",borderRadius:"5px"},children:"\xa0passive\xa0"})]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("em",{children:"Active"})," habits need to be updated when they are accomplished everyday."]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("em",{children:"Passive"})," habits only need to be updated if a habit wasn't done that day."]}),Object(d.jsx)("p",{children:"Finally, a goal needs to be set. Enter the amount of individual days you want to accomplish this habit and the total amount of days you have to reach your goal."}),Object(d.jsxs)("p",{children:[Object(d.jsx)("em",{children:"For example,"})," you might want to do a 30 minute bike ride 5 out of the next 10 days."]}),Object(d.jsx)("p",{children:"Fill out the form and submit."}),Object(d.jsx)("p",{children:"Once a habit has been added, you'll be able to click on its card in the habit list once a day to log a habit, whether active or passive."}),Object(d.jsx)("p",{children:"Each habit card displays the amount of days you've logged towards your goal as well as the total amount of days you've allotted to acheive this goal."}),Object(d.jsx)("p",{children:"Everyday the number displayed for the total amount of days you allotted yourself will decrease by 1."}),Object(d.jsx)("p",{children:"A habit will display 'Completed' when you have logged the amount of days you set as a goal or 'Failed' if the amount of days you set to reach your goal has reached zero."}),Object(d.jsx)(s.b,{to:"/",children:Object(d.jsx)("p",{style:{width:"100%",textAlign:"center",marginBottom:"10px"},children:Object(d.jsx)(l,{btnDisplay:"Back",btnFunction:"backToLoginBtn"})})})]})},h=a(12),j=function(){return Object(d.jsx)("div",{id:"footer",children:Object(d.jsxs)("div",{id:"footer-links",children:[Object(d.jsx)("span",{children:Object(d.jsx)(s.b,{to:"/how-to-use",children:"How to Use"})}),Object(d.jsx)("div",{className:"footer-link-separator",children:"\xa0\xa0\xa0\xa0\xa0"}),Object(d.jsx)("a",{href:"https://github.com/mwroberts3/habit-tracker",target:"blank",children:Object(d.jsx)(h.b,{size:20,style:{marginRight:"5px"}})}),Object(d.jsx)("div",{className:"footer-link-separator",children:"\xa0\xa0\xa0\xa0\xa0"}),Object(d.jsx)("span",{children:"v1.0.0 2021"})]})})},p=a(6),u=!1,g=function(e){var t=e.validLoginCheck,a=e.serverUrl,i=Object(n.useState)(""),c=Object(p.a)(i,2),o=c[0],s=c[1],r=Object(n.useState)(""),l=Object(p.a)(r,2),b=l[0],j=l[1],g=Object(n.useState)(""),O=Object(p.a)(g,2),m=O[0],x=O[1],v=Object(n.useState)(!1),f=Object(p.a)(v,2),y=f[0],w=f[1],k=Object(n.useState)("Login"),N=Object(p.a)(k,2),S=N[0],C=N[1],D=Object(n.useState)(""),L=Object(p.a)(D,2),T=L[0],F=L[1];return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{id:"HT-header",children:"Habit Target"})," ",Object(d.jsx)(h.a,{className:"header-icon",size:52}),Object(d.jsxs)("div",{id:"login-container",children:[Object(d.jsx)("p",{id:"error-msg-display",children:""!==T?"".concat(T):Object(d.jsx)("span",{children:"\xa0"})}),Object(d.jsxs)("form",{className:"login",id:"login-signup-form",name:"login",children:[Object(d.jsx)("input",{id:"login-email",name:"username",type:"text",placeholder:"username",value:o,onChange:function(e){return s(e.target.value)}}),Object(d.jsx)("input",{id:"login-pw",name:"password",type:"password",placeholder:"password",value:b,onChange:function(e){return j(e.target.value)}}),Object(d.jsx)("input",{id:"confirm-password-input",className:"hidden",name:"confirmPassword",type:"password",placeholder:"confirm password",value:m,onChange:function(e){return x(e.target.value)}}),Object(d.jsxs)("div",{id:"remember-me-container",children:[Object(d.jsx)("input",{id:"store-session-checkbox",type:"checkbox",value:y,onChange:function(e){return w(e.target.checked)}}),Object(d.jsx)("label",{htmlFor:"remember-login",children:"Remember Me"})]}),Object(d.jsxs)("div",{id:"login-btns-container",children:[Object(d.jsx)("button",{id:"login-submit",className:"light-btn",onClick:function(e){"Cancel"!==S?function(e){e.preventDefault(),fetch("".concat(a,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,password:b,rememberMe:y})}).then((function(e){return e.json()})).then((function(e){e.token?(localStorage.setItem("token",e.token),t(!0)):F(e.message)}))}(e):function(e){e.preventDefault(),document.getElementById("confirm-password-input").classList.add("hidden"),u=!1,C("Login")}(e)},children:S}),Object(d.jsx)("button",{id:"signup-submit",className:"light-btn",onClick:function(e){u?function(e){e.preventDefault(),fetch("".concat(a,"/signup"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,password:b,confirmPassword:m})}).then((function(e){return e.json()})).then((function(e){e.token?(localStorage.setItem("token",e.token),t(!0)):F(e.message)}))}(e):function(e){e.preventDefault(),document.getElementById("confirm-password-input").classList.remove("hidden"),u=!0,C("Cancel")}(e)},children:"Signup"})]})]})]})]})},O=function(e){var t=e.habitDesc,a=e.habitDeletedCheck;return Object(d.jsx)("div",{className:"delete-habit-btn",onClick:function(e){!function(e){var n=localStorage.getItem("token");fetch("https://habit-target-api.herokuapp.com/habits/delete-habit",{method:"DELETE",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"},body:JSON.stringify({description:t})}).then((function(){a(e)}))}(e)},children:Object(d.jsx)("span",{className:"delete-btn-x",children:"x"})})},m=function(e){var t=e.habit,a=e.habitDeletedCheck,n=e.passedClass,i=e.serverUrl;return Object(d.jsxs)("div",{id:t.description,className:n,onClick:function(e){e.target.classList.contains("delete-btn-x")||t.failed||t.completed||function(e,t){var a=new Date((new Date).getTime());a.setHours(0,0,0,0);var n=localStorage.getItem("token");fetch("".concat(i,"/habits/log-habit"),{method:"POST",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"},body:JSON.stringify({habitDesc:t.description,lastUpdated:a})}).then((function(){t.active?"SPAN"!==e.target.tagName||e.target.parentNode.parentNode.parentNode.classList.contains("habit-logged-active")?"SPAN"!==e.target.tagName&&(e.target.parentNode.parentNode.classList.add("habit-logged-active"),e.target.parentNode.children[2].innerHTML="\n                    Goal: ".concat(t.daysLogged+1," / ").concat(t.goal,' <span style="color: #777; fontSize:14px">[').concat(t.daysLeft,"]</span>\n                    ")):(e.target.parentNode.parentNode.parentNode.classList.add("habit-logged-active"),e.target.parentNode.parentNode.children[2].innerHTML="\n                    Goal: ".concat(t.daysLogged+1," / ").concat(t.goal,' <span style="color: #777; fontSize:14px">[').concat(t.daysLeft,"]</span>\n                    ")):"SPAN"!==e.target.tagName?e.target.parentNode.parentNode.classList.add("habit-logged-passive"):e.target.parentNode.parentNode.parentNode.classList.add("habit-logged-passive")}))}(e,t)},children:[!t.failed&&!t.completed&&Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:t.description}),Object(d.jsx)("p",{className:t.active?"active":"passive",children:t.active?"active":"passive"}),Object(d.jsxs)("p",{children:["Goal: ",t.daysLogged," / ",t.goal," ",Object(d.jsxs)("span",{style:{color:"#777",fontSize:"14px"},children:["[",t.daysLeft,"]"]})]}),Object(d.jsx)(O,{habitDesc:t.description,habitDeletedCheck:a})]}),t.failed&&Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:[t.description," Failed"]}),Object(d.jsxs)("p",{children:[t.daysLogged," / ",t.goal]}),Object(d.jsx)(O,{habitDesc:t.description,habitDeletedCheck:a})]}),t.completed&&Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:"Completed!"}),Object(d.jsx)("p",{children:t.description}),Object(d.jsxs)("p",{children:[t.daysLogged," / ",t.goal]}),Object(d.jsx)(O,{habitDesc:t.description,habitDeletedCheck:a})]})]})},x=function(e){var t=e.validLoginCheck,a=e.serverUrl,i=Object(r.f)(),c=Object(n.useState)([]),o=Object(p.a)(c,2),s=o[0],l=o[1],b=Object(n.useState)(!0),h=Object(p.a)(b,2),j=h[0],u=h[1],g=new Date((new Date).getTime());g.setHours(0,0,0,0);var O=localStorage.getItem("token"),x=function(e){e.target.parentNode.parentNode.parentNode.classList.add("hidden")};return j&&fetch("".concat(a,"/habits"),{method:"GET",headers:{Authorization:"Bearer "+O,"Content-Type":"application/json",Timestamp:g}}).then((function(e){return e.json()})).then((function(e){"jwt expired"===e.message||"Not authenticated."===e.message?(localStorage.removeItem("token"),t(!1),i.go(0)):(u(!1),l(e.editedHabits))})),Object(d.jsxs)("div",{id:"habit-list",children:[j&&Object(d.jsx)("div",{className:"habit-list-loading",children:"loading..."}),!j&&s.length>0&&s.map((function(e,t){return Object(d.jsx)(m,{serverUrl:a,habit:e,habitDeletedCheck:x,passedClass:e.updatedToday?e.active?"habit-card habit-logged-active":"habit-card habit-logged-passive":"habit-card"},t)}))]})},v=function(){return Object(d.jsxs)("div",{id:"user-options",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)(s.b,{to:"/add-habit",children:Object(d.jsx)(l,{btnFunction:"addHabitBtn",btnDisplay:"Add Habit"})}),Object(d.jsx)(s.b,{to:"/stats"})]}),Object(d.jsx)(l,{btnFunction:"logoutBtn",btnDisplay:"Logout"})]})},f=a(20),y=function(e){var t=e.serverUrl,a=Object(n.useState)(!1),i=Object(p.a)(a,2),c=i[0],o=i[1],s=Object(n.useState)(!1),b=Object(p.a)(s,2),h=b[0],j=b[1];if(c||h)return Object(d.jsx)(r.a,{to:"/"});return Object(d.jsx)("div",{id:"add-habit-container",children:Object(d.jsxs)("form",{id:"new-habit-form",children:[Object(d.jsx)("h3",{children:"Add New Habit"}),Object(d.jsx)("input",{id:"habit-description",name:"description",type:"text",placeholder:"short description",required:!0}),Object(d.jsxs)("div",{id:"update-style-input",children:[Object(d.jsx)("input",{type:"radio",name:"updateStyle",value:"active",defaultChecked:!0}),Object(d.jsx)("label",{htmlFor:"active-update",children:"active"}),Object(d.jsx)("input",{type:"radio",name:"updateStyle",value:"passive"}),Object(d.jsx)("label",{htmlFor:"passive-update",children:"passive"})]}),Object(d.jsxs)("div",{id:"new-habit-goal",children:[Object(d.jsx)("input",{name:"daysGoal",type:"number",required:!0}),"days",Object(d.jsx)("label",{htmlFor:"days",children:"out of"}),Object(d.jsx)("input",{name:"daysLeft",type:"number",required:!0})]}),Object(d.jsx)(l,{btnDisplay:"Submit",btnFunction:"submitNewHabitBtn",functionLiteral:function(){o(!0);var e=new FormData(document.getElementById("new-habit-form")),a={},n=new Date(new Date(Date.now()).getTime());n=n.setHours(0,0,0,0),e.append("createdAtDate",new Date(n));var i,c=Object(f.a)(e.keys());try{for(c.s();!(i=c.n()).done;){var s=i.value;a[s]=e.get(s)}}catch(d){c.e(d)}finally{c.f()}var r=localStorage.getItem("token");fetch("".concat(t,"/habits/add-habit/"),{method:"POST",headers:{Authorization:"Bearer "+r,"Content-Type":"application/json",Timestamp:new Date(n)},body:JSON.stringify(a)})}}),"\xa0",Object(d.jsx)(l,{btnDisplay:"Close",btnFunction:"closeAddHabitForm",functionLiteral:function(){j(!0)}})]})})};var w=function(){var e;console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})),e="https://habit-target-api.herokuapp.com",Object(n.useEffect)((function(){localStorage.getItem("token")&&t(!0)}));var t=function t(a){a&&o.a.render(Object(d.jsxs)(s.a,{children:[Object(d.jsx)("div",{id:"total-container",children:Object(d.jsxs)("div",{className:"inner-contents",children:[Object(d.jsxs)(r.b,{exact:!0,path:"/",children:[Object(d.jsx)(v,{}),Object(d.jsx)(x,{validLoginCheck:t,serverUrl:e})]}),Object(d.jsx)(r.b,{exact:!0,path:"/add-habit",children:Object(d.jsx)(y,{serverUrl:e})}),Object(d.jsx)(r.b,{path:"/how-to-use",component:b})]})}),Object(d.jsx)(j,{})]}),document.getElementById("root"))};return Object(d.jsx)(s.a,{children:Object(d.jsxs)("div",{id:"total-container",children:[Object(d.jsxs)("div",{className:"inner-contents",children:[Object(d.jsx)(r.b,{exact:!0,path:"/",children:Object(d.jsx)(g,{validLoginCheck:t,serverUrl:e})}),Object(d.jsx)(r.b,{path:"/how-to-use",component:b})]}),Object(d.jsx)(j,{})]})})},k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,33)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),i(e),c(e),o(e)}))};o.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(w,{})}),document.getElementById("root")),k()}},[[32,1,2]]]);
//# sourceMappingURL=main.e92a3bf4.chunk.js.map