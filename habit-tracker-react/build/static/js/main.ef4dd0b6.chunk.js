(this["webpackJsonphabit-tracker-react"]=this["webpackJsonphabit-tracker-react"]||[]).push([[0],{25:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),c=n(11),s=n.n(c),o=(n(25),n(4)),r=n(2),d=n(0),l=function(e){var t=e.btnFunction,n=e.btnDisplay,i=e.functionLiteral;return Object(d.jsx)("button",{className:"light-btn",onClick:function(e){"logoutBtn"===t?(localStorage.removeItem("token"),window.location.reload()):("submitNewHabitBtn"===t||"closeAddHabitForm"===t)&&(e.preventDefault(),i())},children:n})},b=function(){return Object(d.jsxs)("div",{id:"about-container",children:[Object(d.jsx)("h2",{children:"About"}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{children:"v1.0.0 \xa0"}),Object(d.jsx)("span",{children:"Created 2021"})]}),Object(d.jsx)("p",{children:"Habit Maker was created for the purpose to help users develop and maintain new habits."}),Object(d.jsx)("p",{children:"It also works as a general todo list or project tracker."}),Object(d.jsx)(o.b,{to:"/",children:Object(d.jsx)("p",{children:Object(d.jsx)(l,{btnDisplay:"Back",btnFunction:"backToLoginBtn",style:{marginBottom:"5px"}})})})]})},j=function(){return Object(d.jsxs)("div",{id:"how-to-use-container",children:[Object(d.jsx)("h2",{children:"How To Use"}),Object(d.jsx)("p",{children:"Click the 'Add Habit' button to add a new habit."}),Object(d.jsx)("p",{children:"Fill out the form and submit."}),Object(d.jsxs)("p",{children:["How often you need to log your progress depends on whether a given habit is ",Object(d.jsx)("span",{style:{color:"green",background:"aliceblue",borderRadius:"5px"},children:"\xa0active\xa0"})," or ",Object(d.jsx)("span",{style:{color:"red",background:"aliceblue",borderRadius:"5px"},children:"\xa0passive\xa0"})]}),Object(d.jsx)("p",{children:"Active habits need to be updated everyday."}),Object(d.jsx)("p",{children:"Passive habits only need to be updated if a habit wasn't done that day."}),Object(d.jsx)(o.b,{to:"/",children:Object(d.jsx)("p",{children:Object(d.jsx)(l,{btnDisplay:"Back",btnFunction:"backToLoginBtn",style:{marginBottom:"5px"}})})})]})},h=n(12),u=function(){return Object(d.jsx)("div",{id:"footer",children:Object(d.jsxs)("div",{id:"footer-links",children:[Object(d.jsx)("span",{children:Object(d.jsx)(o.b,{to:"/how-to-use",children:"How to Use"})}),Object(d.jsx)("div",{className:"footer-link-separator",children:"\xa0\xa0\xa0\xa0\xa0"}),Object(d.jsx)("span",{children:Object(d.jsx)(o.b,{to:"/about",children:"About"})}),Object(d.jsx)("div",{className:"footer-link-separator",children:"\xa0\xa0\xa0\xa0\xa0"}),Object(d.jsx)("a",{href:"https://github.com/mwroberts3/habit-tracker",target:"blank",children:Object(d.jsx)(h.b,{size:20,style:{marginRight:"5px"}})}),Object(d.jsx)("div",{className:"footer-link-separator",children:"\xa0\xa0\xa0\xa0\xa0"}),Object(d.jsx)("span",{children:"v1.0.0 2021"})]})})},p=n(7),O=!1,x=function(e){var t=e.validLoginCheck,n=e.serverUrl,a=Object(i.useState)(""),c=Object(p.a)(a,2),s=c[0],o=c[1],r=Object(i.useState)(""),l=Object(p.a)(r,2),b=l[0],j=l[1],u=Object(i.useState)(""),x=Object(p.a)(u,2),m=x[0],g=x[1],v=Object(i.useState)(!1),f=Object(p.a)(v,2),y=f[0],k=f[1],w=Object(i.useState)(""),D=Object(p.a)(w,2),C=D[0],S=D[1];return Object(d.jsxs)("div",{id:"login-container",children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("h1",{id:"login-header",children:["Habit Target ",Object(d.jsx)(h.a,{className:"header-icon",size:35})]}),"\xa0"]}),Object(d.jsx)("p",{id:"error-msg-display",children:""!==C?"".concat(C):Object(d.jsx)("span",{children:"\xa0"})}),Object(d.jsxs)("form",{className:"login",id:"login-signup-form",name:"login",children:[Object(d.jsx)("input",{id:"login-email",name:"email",type:"text",placeholder:"email",value:s,onChange:function(e){return o(e.target.value)}}),Object(d.jsx)("input",{id:"login-pw",name:"password",type:"password",placeholder:"password",value:b,onChange:function(e){return j(e.target.value)}}),Object(d.jsx)("input",{id:"confirm-password-input",className:"hidden",name:"confirmPassword",type:"password",placeholder:"confirm password",value:m,onChange:function(e){return g(e.target.value)}}),Object(d.jsxs)("div",{id:"remember-me-container",children:[Object(d.jsx)("input",{id:"store-session-checkbox",type:"checkbox",value:y,onChange:function(e){return k(e.target.checked)}}),Object(d.jsx)("label",{htmlFor:"remember-login",children:"Remember Me"})]}),Object(d.jsxs)("div",{id:"login-btns-container",children:[Object(d.jsx)("button",{id:"login-submit",className:"light-btn",onClick:function(e){!function(e){e.preventDefault(),fetch("".concat(n,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:b,rememberMe:y})}).then((function(e){return e.json()})).then((function(e){e.token?(localStorage.setItem("token",e.token),t(!0)):S(e.message)}))}(e)},children:"Login"}),Object(d.jsx)("button",{id:"signup-submit",className:"light-btn",onClick:function(e){O?function(e){e.preventDefault(),fetch("".concat(n,"/signup"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:b,confirmPassword:m})}).then((function(e){return e.json()})).then((function(e){e.token?(localStorage.setItem("token",e.token),t(!0)):S(e.message)}))}(e):function(e){e.preventDefault(),document.getElementById("confirm-password-input").classList.remove("hidden"),O=!0}(e)},children:"Signup"})]})]})]})},m=function(e){var t=e.habitDesc,n=e.habitDeletedCheck;return Object(d.jsx)("div",{className:"delete-habit-btn",onClick:function(){!function(){var e=localStorage.getItem("token");fetch("https://habit-target-api.herokuapp.com/habits/delete-habit",{method:"DELETE",headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"},body:JSON.stringify({description:t})}).then((function(){return n(),Object(d.jsx)(r.a,{to:"/"})}))}()},children:Object(d.jsx)("span",{className:"delete-btn-x",children:"x"})})},g=function(e){var t=e.habit,n=e.habitDeletedCheck,i=e.passedClass,a=e.serverUrl;return Object(d.jsxs)("div",{id:t.description,className:i,onClick:function(e){e.target.classList.contains("delete-btn-x")||t.failed||t.completed||function(e){var t=new Date((new Date).getTime());t.setHours(0,0,0,0);var i=localStorage.getItem("token");fetch("".concat(a,"/habits/log-habit"),{method:"POST",headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"},body:JSON.stringify({habitDesc:e.description,lastUpdated:t})}).then((function(){n()}))}(t)},children:[!t.failed&&!t.completed&&Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:t.description}),Object(d.jsx)("p",{className:t.active?"active":"passive",children:t.active?"active":"passive"}),Object(d.jsxs)("p",{children:["Goal: ",t.daysLogged," / ",t.goal," (",t.daysLeft,")"]}),Object(d.jsx)(m,{habitDesc:t.description,habitDeletedCheck:n})]}),t.failed&&Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:[t.description," Failed"]}),Object(d.jsxs)("p",{children:[t.daysLogged," / ",t.goal]}),Object(d.jsx)(m,{habitDesc:t.description,habitDeletedCheck:n})]}),t.completed&&Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:[t.description," Completed"]}),Object(d.jsxs)("p",{children:[t.daysLogged," / ",t.goal]}),Object(d.jsx)(m,{habitDesc:t.description,habitDeletedCheck:n})]})]})},v=function(e){var t=e.validLoginCheck,n=e.serverUrl,a=Object(r.f)(),c=Object(i.useState)([]),s=Object(p.a)(c,2),o=s[0],l=s[1],b=Object(i.useState)(!0),j=Object(p.a)(b,2),h=j[0],u=j[1],O=new Date((new Date).getTime());O.setHours(0,0,0,0);var x=localStorage.getItem("token"),m=function(){u(!0)};return h&&(u(!1),fetch("".concat(n,"/habits"),{method:"GET",headers:{Authorization:"Bearer "+x,"Content-Type":"application/json",Timestamp:O}}).then((function(e){return e.json()})).then((function(e){"jwt expired"===e.message||"Not authenticated."===e.message?(localStorage.removeItem("token"),t(!1),a.go(0)):l(e.editedHabits)}))),Object(d.jsx)("div",{id:"habit-list",children:o.length>0&&o.map((function(e,t){return Object(d.jsx)(g,{serverUrl:n,habit:e,habitDeletedCheck:m,passedClass:e.updatedToday?e.active?"habit-card habit-logged-active":"habit-card habit-logged-passive":"habit-card"},t)}))})},f=function(){return Object(d.jsxs)("div",{id:"user-options",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)(o.b,{to:"/add-habit",children:Object(d.jsx)(l,{btnFunction:"addHabitBtn",btnDisplay:"Add Habit"})}),Object(d.jsx)(o.b,{to:"/stats"})]}),Object(d.jsx)(l,{btnFunction:"logoutBtn",btnDisplay:"Logout"})]})},y=n(20),k=function(e){var t=e.serverUrl,n=Object(i.useState)(!1),a=Object(p.a)(n,2),c=a[0],s=a[1],o=Object(i.useState)(!1),b=Object(p.a)(o,2),j=b[0],h=b[1];if(c||j)return Object(d.jsx)(r.a,{to:"/"});return Object(d.jsx)("div",{id:"add-habit-container",children:Object(d.jsxs)("form",{id:"new-habit-form",children:[Object(d.jsx)("h3",{children:"Add New Habit"}),Object(d.jsx)("label",{htmlFor:"description",children:"Short Description"}),Object(d.jsx)("input",{id:"habit-description",name:"description",type:"text",required:!0}),Object(d.jsx)("h3",{children:"Update Style"}),Object(d.jsx)("input",{type:"radio",name:"updateStyle",value:"active"}),Object(d.jsx)("label",{htmlFor:"active-update",children:"active"}),Object(d.jsx)("input",{type:"radio",name:"updateStyle",value:"passive",defaultChecked:!0}),Object(d.jsx)("label",{htmlFor:"passive-update",children:"passive"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"days",children:"Goal"}),Object(d.jsx)("input",{name:"daysGoal",type:"number",required:!0}),"Days"]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"days",children:"Time"}),Object(d.jsx)("input",{name:"daysLeft",type:"number",required:!0}),"Days"]}),Object(d.jsx)(l,{btnDisplay:"Submit",btnFunction:"submitNewHabitBtn",functionLiteral:function(){s(!0);var e=new FormData(document.getElementById("new-habit-form")),n={},i=new Date(new Date(Date.now()).getTime());i=i.setHours(0,0,0,0),e.append("createdAtDate",new Date(i));var a,c=Object(y.a)(e.keys());try{for(c.s();!(a=c.n()).done;){var o=a.value;n[o]=e.get(o)}}catch(d){c.e(d)}finally{c.f()}var r=localStorage.getItem("token");fetch("".concat(t,"/habits/add-habit"),{method:"POST",headers:{Authorization:"Bearer "+r,"Content-Type":"application/json",Timestamp:new Date(i)},body:JSON.stringify(n)})}}),Object(d.jsx)(l,{btnDisplay:"Close",btnFunction:"closeAddHabitForm",functionLiteral:function(){h(!0)}})]})})};var w=function(){var e="https://habit-target-api.herokuapp.com";Object(i.useEffect)((function(){localStorage.getItem("token")&&t(!0)}));var t=function t(n){n&&s.a.render(Object(d.jsx)(o.a,{children:Object(d.jsxs)("div",{id:"total-container",children:[Object(d.jsxs)(r.b,{exact:!0,path:"/",children:[Object(d.jsx)(f,{}),Object(d.jsx)(v,{validLoginCheck:t,serverUrl:e})]}),Object(d.jsx)(r.b,{path:"/add-habit",component:k,serverUrl:e}),Object(d.jsx)(r.b,{path:"/about",component:b}),Object(d.jsx)(r.b,{path:"/how-to-use",component:j}),Object(d.jsx)(u,{})]})}),document.getElementById("root"))};return Object(d.jsx)(o.a,{children:Object(d.jsxs)("div",{id:"total-container",children:[Object(d.jsx)(r.b,{exact:!0,path:"/",children:Object(d.jsx)(x,{validLoginCheck:t,serverUrl:e})}),Object(d.jsx)(r.b,{path:"/about",component:b}),Object(d.jsx)(r.b,{path:"/how-to-use",component:j}),Object(d.jsx)(u,{})]})})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,33)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),i(e),a(e),c(e),s(e)}))};s.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(w,{})}),document.getElementById("root")),D()}},[[32,1,2]]]);
//# sourceMappingURL=main.ef4dd0b6.chunk.js.map