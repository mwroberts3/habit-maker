(this["webpackJsonphabit-tracker-react"]=this["webpackJsonphabit-tracker-react"]||[]).push([[0],{25:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),c=n(11),o=n.n(c),s=(n(25),n(4)),r=n(2),d=n(0),l=function(e){var t=e.btnFunction,n=e.btnDisplay,i=e.functionLiteral;return Object(d.jsx)("button",{className:"light-btn",onClick:function(e){"logoutBtn"===t?(localStorage.removeItem("token"),window.location.reload()):("submitNewHabitBtn"===t||"closeAddHabitForm"===t)&&(e.preventDefault(),i())},children:n})},b=function(){return Object(d.jsxs)("div",{id:"about-container",children:[Object(d.jsx)("h2",{children:"About"}),Object(d.jsx)("span",{children:"v1.0.0"}),Object(d.jsx)("span",{children:"Created 2021"}),Object(d.jsx)("p",{children:"Habit Maker was created for the purpose to help users develop and maintain new habits."}),Object(d.jsx)("p",{children:"It also works as a general todo list or project tracker."}),Object(d.jsx)(s.b,{to:"/",children:Object(d.jsx)(l,{btnDisplay:"Back",btnFunction:"backToLoginBtn",style:{marginBottom:"5px"}})})]})},j=function(){return Object(d.jsxs)("div",{id:"how-to-use-container",children:[Object(d.jsx)("h2",{children:"How To Use"}),Object(d.jsx)("p",{children:"Click the 'Add Habit' button to add a new habit."}),Object(d.jsx)("p",{children:"Fill out the form and submit."}),Object(d.jsxs)("p",{children:["How often you need to log your progress depends on whether a given habit is ",Object(d.jsx)("span",{style:{color:"green"},children:"active"})," or ",Object(d.jsx)("span",{style:{color:"red"},children:"passive"})]}),Object(d.jsx)("p",{children:"Active habits need to be updated everyday."}),Object(d.jsx)("p",{children:"Passive habits only need to be updated if a habit wasn't done that day."}),Object(d.jsx)(s.b,{to:"/",children:Object(d.jsx)(l,{btnDisplay:"Back",btnFunction:"backToLoginBtn",style:{marginBottom:"5px"}})})]})},h=n(12),p=function(){return Object(d.jsx)("div",{id:"footer",children:Object(d.jsxs)("div",{id:"footer-links",children:[Object(d.jsx)("span",{children:Object(d.jsx)(s.b,{to:"/how-to-use",children:"How to Use"})}),Object(d.jsx)("div",{className:"footer-link-separator",children:"\xa0\xa0\xa0\xa0\xa0"}),Object(d.jsx)("span",{children:Object(d.jsx)(s.b,{to:"/about",children:"About"})}),Object(d.jsx)("div",{className:"footer-link-separator",children:"\xa0\xa0\xa0\xa0\xa0"}),Object(d.jsx)("a",{href:"https://github.com/mwroberts3/habit-tracker",target:"blank",children:Object(d.jsx)(h.b,{size:20,style:{marginRight:"5px"}})}),Object(d.jsx)("div",{className:"footer-link-separator",children:"\xa0\xa0\xa0\xa0\xa0"}),Object(d.jsx)("span",{children:"v1.0.0 2021"})]})})},u=n(7),O=!1,m=function(e){var t=e.validLoginCheck,n=Object(i.useState)(""),a=Object(u.a)(n,2),c=a[0],o=a[1],s=Object(i.useState)(""),r=Object(u.a)(s,2),l=r[0],b=r[1],j=Object(i.useState)(""),p=Object(u.a)(j,2),m=p[0],x=p[1],g=Object(i.useState)(!1),f=Object(u.a)(g,2),v=f[0],k=f[1],y=Object(i.useState)(""),w=Object(u.a)(y,2),D=w[0],C=w[1];return Object(d.jsxs)("div",{id:"login-container",children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("h1",{id:"login-header",children:["Habit Maker ",Object(d.jsx)(h.a,{className:"header-icon",size:35})]}),"\xa0"]}),Object(d.jsx)("p",{id:"error-msg-display",children:""!==D?"".concat(D):Object(d.jsx)("span",{children:"\xa0"})}),Object(d.jsxs)("form",{className:"login",id:"login-signup-form",name:"login",children:[Object(d.jsx)("input",{id:"login-email",name:"email",type:"text",placeholder:"email",value:c,onChange:function(e){return o(e.target.value)}}),Object(d.jsx)("input",{id:"login-pw",name:"password",type:"password",placeholder:"password",value:l,onChange:function(e){return b(e.target.value)}}),Object(d.jsx)("input",{id:"confirm-password-input",className:"hidden",name:"confirmPassword",type:"password",placeholder:"confirm password",value:m,onChange:function(e){return x(e.target.value)}}),Object(d.jsxs)("div",{id:"remember-me-container",children:[Object(d.jsx)("input",{id:"store-session-checkbox",type:"checkbox",value:v,onChange:function(e){return k(e.target.checked)}}),Object(d.jsx)("label",{htmlFor:"remember-login",children:"Remember Me"})]}),Object(d.jsxs)("div",{id:"login-btns-container",children:[Object(d.jsx)("button",{id:"login-submit",className:"light-btn",onClick:function(e){!function(e){e.preventDefault(),console.log("login button clicked"),console.log(c,l,v),fetch("https://habit-maker-api.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,password:l,rememberMe:v})}).then((function(e){return e.json()})).then((function(e){e.token?(console.log(e.token),localStorage.setItem("token",e.token),t(!0)):C(e.message)}))}(e)},children:"Login"}),Object(d.jsx)("button",{id:"signup-submit",className:"light-btn",onClick:function(e){O?function(e){e.preventDefault(),fetch("https://habit-maker-api.herokuapp.com/signup",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,password:l,confirmPassword:m})}).then((function(e){return e.json()})).then((function(e){e.token?(console.log(e.token),localStorage.setItem("token",e.token),t(!0)):C(e.message)}))}(e):function(e){e.preventDefault(),document.getElementById("confirm-password-input").classList.remove("hidden"),O=!0}(e)},children:"Signup"})]})]})]})},x=function(e){var t=e.habitDesc,n=e.habitDeletedCheck;return Object(d.jsx)("div",{className:"delete-habit-btn",onClick:function(){!function(){var e=localStorage.getItem("token");fetch("https://habit-maker-api.herokuapp.com/habits/delete-habit",{method:"DELETE",headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"},body:JSON.stringify({description:t})}).then((function(){return n(),Object(d.jsx)(r.a,{to:"/"})}))}()},children:Object(d.jsx)("span",{className:"delete-btn-x",children:"x"})})},g=function(e){var t=e.habit,n=e.habitDeletedCheck,i=e.passedClass;return Object(d.jsxs)("div",{id:t.description,className:i,onClick:function(e){e.target.classList.contains("delete-btn-x")||t.failed||t.completed||function(e){var t=new Date((new Date).getTime());t.setHours(0,0,0,0);var i=localStorage.getItem("token");fetch("https://habit-maker-api.herokuapp.com/habits/log-habit",{method:"POST",headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"},body:JSON.stringify({habitDesc:e.description,lastUpdated:t})}).then((function(){n()}))}(t)},children:[!t.failed&&!t.completed&&Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:t.description}),Object(d.jsx)("p",{className:t.active?"active":"passive",children:t.active?"active":"passive"}),Object(d.jsxs)("p",{children:["Goal: ",t.daysLogged," / ",t.goal," (",t.daysLeft,")"]}),Object(d.jsx)(x,{habitDesc:t.description,habitDeletedCheck:n})]}),t.failed&&Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:[t.description," Failed"]}),Object(d.jsxs)("p",{children:[t.daysLogged," / ",t.goal]}),Object(d.jsx)(x,{habitDesc:t.description,habitDeletedCheck:n})]}),t.completed&&Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:[t.description," Completed"]}),Object(d.jsxs)("p",{children:[t.daysLogged," / ",t.goal]}),Object(d.jsx)(x,{habitDesc:t.description,habitDeletedCheck:n})]})]})},f=function(e){var t=e.validLoginCheck,n=Object(i.useState)([]),a=Object(u.a)(n,2),c=a[0],o=a[1],s=Object(i.useState)(!0),r=Object(u.a)(s,2),l=r[0],b=r[1],j=new Date((new Date).getTime());j.setHours(0,0,0,0);var h=localStorage.getItem("token"),p=function(){b(!0)};return l&&(b(!1),fetch("https://habit-maker-api.herokuapp.com/habits",{method:"GET",headers:{Authorization:"Bearer "+h,"Content-Type":"application/json",Timestamp:j}}).then((function(e){return e.json()})).then((function(e){console.log(e),"jwt expired"===e.message||"Not authenticated."===e.message?(localStorage.removeItem("token"),t(!1),window.location.reload()):o(e.editedHabits)}))),Object(d.jsx)("div",{id:"habit-list",children:c.length>0&&c.map((function(e,t){return Object(d.jsx)(g,{habit:e,habitDeletedCheck:p,passedClass:e.updatedToday?e.active?"habit-card habit-logged-active":"habit-card habit-logged-passive":"habit-card"},t)}))})},v=function(){return Object(d.jsxs)("div",{id:"user-options",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)(s.b,{to:"/add-habit",children:Object(d.jsx)(l,{btnFunction:"addHabitBtn",btnDisplay:"Add Habit"})}),Object(d.jsx)(s.b,{to:"/stats"})]}),Object(d.jsx)(l,{btnFunction:"logoutBtn",btnDisplay:"Logout"})]})},k=n(20),y=function(){var e=Object(i.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)(!1),o=Object(u.a)(c,2),s=o[0],b=o[1];if(n||s)return Object(d.jsx)(r.a,{to:"/"});return Object(d.jsx)("div",{id:"add-habit-container",children:Object(d.jsxs)("form",{id:"new-habit-form",children:[Object(d.jsx)("h3",{children:"Add New Habit"}),Object(d.jsx)("label",{htmlFor:"description",children:"Short Description"}),Object(d.jsx)("input",{name:"description",type:"text",required:!0}),Object(d.jsx)("h3",{children:"Update Style"}),Object(d.jsx)("input",{type:"radio",name:"updateStyle",value:"active"}),Object(d.jsx)("label",{htmlFor:"active-update",children:"active"}),Object(d.jsx)("input",{type:"radio",name:"updateStyle",value:"passive",defaultChecked:!0}),Object(d.jsx)("label",{htmlFor:"passive-update",children:"passive"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"days",children:"Goal"}),Object(d.jsx)("input",{name:"daysGoal",type:"number",required:!0}),"Days"]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"days",children:"Time"}),Object(d.jsx)("input",{name:"daysLeft",type:"number",required:!0}),"Days"]}),Object(d.jsx)(l,{btnDisplay:"Submit",btnFunction:"submitNewHabitBtn",functionLiteral:function(){a(!0);var e=new FormData(document.getElementById("new-habit-form")),t={},n=new Date(new Date(Date.now()).getTime());n=n.setHours(0,0,0,0),e.append("createdAtDate",new Date(n));var i,c=Object(k.a)(e.keys());try{for(c.s();!(i=c.n()).done;){var o=i.value;t[o]=e.get(o)}}catch(r){c.e(r)}finally{c.f()}var s=localStorage.getItem("token");fetch("https://habit-maker-api.herokuapp.com/habits/add-habit",{method:"POST",headers:{Authorization:"Bearer "+s,"Content-Type":"application/json",Timestamp:new Date(n)},body:JSON.stringify(t)})}}),Object(d.jsx)(l,{btnDisplay:"Close",btnFunction:"closeAddHabitForm",functionLiteral:function(){b(!0)}})]})})};var w=function(){Object(i.useEffect)((function(){localStorage.getItem("token")&&e(!0)}));var e=function e(t){t&&o.a.render(Object(d.jsx)(s.a,{children:Object(d.jsxs)("div",{id:"total-container",children:[Object(d.jsxs)(r.b,{exact:!0,path:"/",children:[Object(d.jsx)(v,{}),Object(d.jsx)(f,{validLoginCheck:e})]}),Object(d.jsx)(r.b,{path:"/add-habit",component:y}),Object(d.jsx)(r.b,{path:"/about",component:b}),Object(d.jsx)(r.b,{path:"/how-to-use",component:j}),Object(d.jsx)(p,{})]})}),document.getElementById("root"))};return Object(d.jsx)(s.a,{children:Object(d.jsxs)("div",{id:"total-container",children:[Object(d.jsx)(r.b,{exact:!0,path:"/",children:Object(d.jsx)(m,{validLoginCheck:e})}),Object(d.jsx)(r.b,{path:"/about",component:b}),Object(d.jsx)(r.b,{path:"/how-to-use",component:j}),Object(d.jsx)(p,{})]})})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,33)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),i(e),a(e),c(e),o(e)}))};o.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(w,{})}),document.getElementById("root")),D()}},[[32,1,2]]]);
//# sourceMappingURL=main.5eb467f9.chunk.js.map